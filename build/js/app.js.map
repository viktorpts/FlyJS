{"version":3,"sources":["../../js/app.js"],"names":["socket","init","start","canvas","document","getElementById","renderer","palette","input","game","attachEventListeners","window","on","data","addPlayer","id","removePlayer","updatePosition"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;kBAEgB,YAAY;AACxB;AACA,QAAIA,SAAS,yBAAb;;AAEA,sBAAQC,IAAR,CAAaC,KAAb;;AAEA,QAAIC,SAASC,SAASC,cAAT,CAAwB,QAAxB,CAAb;AACA,QAAIC,WAAW,uBAAaH,MAAb,EAAqB,kBAAQI,OAA7B,CAAf;AACA,QAAIC,QAAQ,wBAAZ;;AAEA,QAAIC,OAAO,mBAASH,QAAT,EAAmBE,KAAnB,EAA0BR,MAA1B,CAAX;AACAS,SAAKC,oBAAL,CAA0BC,MAA1B;;AAEA;AACAX,WAAOY,EAAP,CAAU,WAAV,EAAuB,UAAUC,IAAV,EAAgB;AACnCJ,aAAKK,SAAL,CAAeD,KAAKE,EAApB;AACH,KAFD;;AAIAf,WAAOY,EAAP,CAAU,YAAV,EAAwB,UAAUC,IAAV,EAAgB;AACpCJ,aAAKO,YAAL,CAAkBH,KAAKE,EAAvB;AACH,KAFD;;AAIAf,WAAOY,EAAP,CAAU,WAAV,EAAuB,UAAUC,IAAV,EAAgB;AACnCJ,aAAKQ,cAAL,CAAoBJ,IAApB;AACH,KAFD;;AAIA,aAASX,KAAT,GAAiB;AACbO,aAAKP,KAAL;AACH;AACJ,CA7Bc,E","file":"app.js","sourcesContent":["import Palette from './renderer/Palette.js';\r\nimport Game from './game.js';\r\nimport Renderer from './renderer/Renderer.js';\r\nimport KeyboardController from './input/Keyboard.js';\r\nimport io from '/socket.io/socket.io.js';\r\n\r\nexport default (function () {\r\n    // Initiate connection\r\n    let socket = io();\r\n\r\n    Palette.init(start);\r\n\r\n    let canvas = document.getElementById('canvas');\r\n    let renderer = new Renderer(canvas, Palette.palette);\r\n    let input = new KeyboardController();\r\n\r\n    let game = new Game(renderer, input, socket);\r\n    game.attachEventListeners(window);\r\n\r\n    // Register new players\r\n    socket.on('newPlayer', function (data) {\r\n        game.addPlayer(data.id);\r\n    });\r\n\r\n    socket.on('playerLeft', function (data) {\r\n        game.removePlayer(data.id)\r\n    });\r\n\r\n    socket.on('playerPos', function (data) {\r\n        game.updatePosition(data);\r\n    });\r\n\r\n    function start() {\r\n        game.start();\r\n    }\r\n})();"]}